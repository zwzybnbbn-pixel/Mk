<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
<title>ملف الدكتور</title>
<link rel="stylesheet" href="style.css">

<style>
  body { 
    font-family: sans-serif; 
    background:#f7f7f7; 
    padding:15px;
    margin:0;
  }

  h2 {
    text-align:center;
    margin-bottom:15px;
    font-size:22px;
  }

  .profile-card{
    background:white; 
    padding:20px; 
    border-radius:14px; 
    box-shadow:0 3px 10px rgba(0,0,0,0.12);
    max-width:600px;
    margin: auto;
  }

  .btn{
    display:inline-block; 
    padding:10px 18px; 
    background:#0077ff;
    color:white; 
    border-radius:8px; 
    text-decoration:none; 
    margin-top:15px;
    text-align:center;
    width:100%;
  }

  table{
    width:100%; 
    border-collapse:collapse; 
    margin-top:15px;
    font-size:14px;
  }

  table th, table td{
    border:1px solid #ddd; 
    padding:10px; 
    text-align:center;
    word-wrap:break-word;
  }

  table th{ 
    background:#eee; 
    font-size:15px;
  }

  /* الجوال: تصغير الخط وتعديل المسافات */
  @media(max-width:480px){
    h2 { font-size:20px; }
    .profile-card { padding:15px; }
    table th, table td { padding:8px; font-size:13px; }
    .btn { font-size:14px; padding:10px; }
  }
</style>
</head>

<body>

<h2>الملف الشخصي للطبيب</h2>

<div id="profile">
  <p>جاري التحميل...</p>
</div>

<script src="doctors-data.js"></script>

<script>
const params = new URLSearchParams(window.location.search);
const id = params.get("id");
const doctor = doctors.find(d => d.id == id);

function createScheduleTable(schedule){
    let rows = "";
    
    Object.keys(schedule).forEach(day => {
        const s = schedule[day];
        const timesText = s.times.join(" و ");  
        
        rows += `
            <tr>
                <th>${day}</th>
                <td>${s.place}</td>
                <td>${timesText}</td>
            </tr>
        `;
    });
    
    return `
        <table>
            <tr>
                <th>اليوم</th>
                <th>مكان الدوام</th>
                <th>الوقت</th>
            </tr>
            ${rows}
        </table>
    `;
}

if(doctor){
    document.getElementById("profile").innerHTML = `
        <div class="profile-card">
            <h2>${doctor.name}</h2>

            <p><strong>التخصص:</strong> ${doctor.specialty}</p>

            <h3>جدول الدوام</h3>
            ${createScheduleTable(doctor.schedule)}

            <p><strong>الهاتف:</strong> ${doctor.phone}</p>
            <p>${doctor.bio}</p>

            <a class="btn" href="doctors.html">عودة</a>
        </div>
    `;
} else {
    document.getElementById("profile").innerHTML = `
        <div class="profile-card">
            <h3>لم يتم العثور على بيانات الطبيب</h3>
            <a class="btn" href="doctors.html">رجوع</a>
        </div>
    `;
}
</script>

</body>
</html>

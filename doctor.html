<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ¨</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f4f4f4;
            margin: 0;
            padding: 0;
        }

        header {
            background: #1976d2;
            color: #fff;
            padding: 15px;
            text-align: center;
            font-size: 20px;
        }

        .container {
            width: 95%;
            max-width: 750px;
            margin: 25px auto;
        }

        .profile-card {
            background: #fff;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.15);
            line-height: 1.8;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: center;
            font-size: 15px;
            white-space: nowrap;
        }

        th {
            background: #1976d2;
            color: #fff;
        }

        .btn {
            display: inline-block;
            background: #1976d2;
            color: #fff;
            padding: 10px 15px;
            border-radius: 8px;
            text-decoration: none;
            margin-top: 15px;
        }
    </style>
</head>

<body>

<header>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ¨</header>

<main class="container">
    <section id="profile">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</section>
</main>

<script src="doctors-data.js"></script>

<script>
const params = new URLSearchParams(window.location.search);
const id = params.get("id");

// Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯ÙƒØªÙˆØ±
const doctor = doctors.find(d => d.id == id);

/* -----------------------------------------------------------
   ğŸ”¥ Ø¯Ø§Ù„Ø© ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¯ÙˆØ§Ù… Ø¨Ø´ÙƒÙ„ Ù…Ø±ØªØ¨ Ø¯Ø§Ø®Ù„ Ø¬Ø¯ÙˆÙ„
   ----------------------------------------------------------- */
function createScheduleTable(timeText) {
    const lines = timeText.split("\n");  // ØªÙ‚Ø³ÙŠÙ… ÙƒÙ„ ÙŠÙˆÙ… Ù„ÙˆØ­Ø¯Ù‡
    let rows = "";

    lines.forEach(line => {
        if (line.trim() === "") return;

        // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„ÙŠÙˆÙ… + Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„
        const match = line.match(/^(.*?):\s*(.*)$/);
        if (match) {
            const day = match[1];
            const times = match[2];

            rows += `
                <tr>
                    <th>${day}</th>
                    <td>${times}</td>
                </tr>
            `;
        }
    });

    return `
        <table>
            <tr>
                <th>Ø§Ù„ÙŠÙˆÙ…</th>
                <th>Ø§Ù„Ø¯ÙˆØ§Ù…</th>
            </tr>
            ${rows}
        </table>
    `;
}

/* -----------------------------------------------------------
   ğŸ”¥ Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
   ----------------------------------------------------------- */
if (doctor) {
    document.getElementById("profile").innerHTML = `
        <div class="profile-card">
            <h2>${doctor.name}</h2>

            <p><strong>Ø§Ù„ØªØ®ØµØµ:</strong> ${doctor.specialty}</p>
            <p><strong>Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰:</strong> ${doctor.hospital}</p>

            <h3>Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¯ÙˆØ§Ù…</h3>
            ${createScheduleTable(doctor.time)}

            ${doctor.phone ? `<p><strong>Ø§Ù„Ù‡Ø§ØªÙ:</strong> ${doctor.phone}</p>` : ""}

            <a class="btn" href="doctors.html">Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø·Ø¨Ø§Ø¡</a>
        </div>
    `;
} else {
    document.getElementById("profile").innerHTML = `
        <div class="profile-card">
            <h3>Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ¨.</h3>
            <a class="btn" href="doctors.html">Ø¹ÙˆØ¯Ø©</a>
        </div>
    `;
}
</script>

</body>
</html>
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰</title>

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800&display=swap" rel="stylesheet">

<style>
  * {
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family:'Cairo';
  }

  body {
    background:#f3f7f7;
    padding:15px;
    overflow-x:hidden;
  }

  .back-btn {
    display:inline-block;
    background:#444;
    color:white;
    padding:10px 15px;
    border-radius:10px;
    text-decoration:none;
    margin-bottom:15px;
    font-size:16px;
  }

  .card {
    width:100%;
    background:white;
    padding:18px;
    border-radius:15px;
    box-shadow:0 3px 12px #00000025;
  }

  h2 {
    font-size:22px;
    color:#00695C;
    margin-bottom:15px;
    font-weight:800;
    text-align:center;
  }

  p {
    font-size:16px;
    margin:6px 0;
    color:#333;
  }

  .btn {
    display:block;
    width:100%;
    background:#00796B;
    color:white;
    text-align:center;
    padding:12px;
    margin-top:14px;
    border-radius:10px;
    text-decoration:none;
    font-size:17px;
  }
</style>

</head>
<body>

<a href="hospitals.html" class="back-btn">â¬… Ø§Ù„Ø¹ÙˆØ¯Ø©</a>

<div class="card">
  <h2 id="name">ÙŠØªÙ… Ø§Ù„ØªØ­Ù…ÙŠÙ„...</h2>

  <p><strong>ğŸ“ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©:</strong> <span id="city"></span></p>
  <p><strong>ğŸ“ Ø§Ù„Ù‡Ø§ØªÙ:</strong> <span id="phone"></span></p>
  <p><strong>ğŸ¥ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…:</strong> <span id="departments"></span></p>

  <a id="doctorsBtn" class="btn" href="#">
    ğŸ‘¨â€âš•ï¸ Ø¹Ø±Ø¶ Ø£Ø·Ø¨Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰
  </a>
</div>

<script type="module">
import { db } from "./firebase-config.js";
import { doc, getDoc }
from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

const params = new URLSearchParams(window.location.search);
const id = params.get("id");

async function loadHospital() {
  const ref = doc(db, "hospitals", id);
  const snap = await getDoc(ref);

  if (!snap.exists()) {
    document.body.innerHTML = "<p>âŒ Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯</p>";
    return;
  }

  const h = snap.data();

  document.getElementById("name").textContent = h.name;
  document.getElementById("city").textContent = h.city || "ØºÙŠØ± Ù…Ø­Ø¯Ø¯";
  document.getElementById("phone").textContent = h.phone || "Ù„Ø§ ÙŠÙˆØ¬Ø¯";
  document.getElementById("departments").textContent = h.departments || "ØºÙŠØ± Ù…Ø­Ø¯Ø¯";

  // Ø²Ø± Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø·Ø¨Ø§Ø¡
  const doctorsLink = `hospital-doctors.html?hospital=${encodeURIComponent(h.name)}`;
  document.getElementById("doctorsBtn").href = doctorsLink;
}

loadHospital();
</script>

</body>
</html>
